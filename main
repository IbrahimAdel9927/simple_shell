#include "ssh.h"
void splitString(char ***arg, const char* str, const char* delimiters) {
    char copyStr[100];
    int i = 0;
    char* rest;

    strcpy(copyStr, str);
    *arg = malloc(sizeof(char *) * 102400);
    rest = copyStr;
    
    while (1) {
	    char* token = strtok_r(rest, delimiters, &rest);
	    if (token == NULL)
		    break;
	    (*arg)[i] = malloc(sizeof(char) * strlen(token) + 1);
	    strcpy((*arg)[i], token);
        printf("%s00\n", (*arg)[i]);
	i++;
    }
    (*arg)[i] = NULL;
}

int main() {
    const char str[] = "مرحبًا بك في Chatbot الخاص بي";
    const char delimiters[] = " ";
    int i = 0;
    char **arg = NULL;

    splitString(&arg, str, delimiters);
    while (arg[i] != NULL)
	    printf("%s\n",arg[i++]);
    while (arg[i] != NULL) {
        free(arg[i]);
        i++;
    }
    free(arg);

    return 0;
}
